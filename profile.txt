
# If any of the following files exist in your home directory, add these
# commands to the end of the files.
#
#    .bash_profile .profile .bashrc
#
# If none of the files exist in your home directory, for the Mac put these
# commands in a file named .profile and for Linux put these commands in 
# .bashrc

# As of 28-Sep-2021, for Sakai 22 and JDK 11 we need to update the JAVA_OPTS as below:

export TIMEZONE="America/Detroit"

export MAVEN_OPTS='-Xms512m -Xmx1024m -Djava.util.Arrays.useLegacyMergeSort=true'

export JDK11_OPTS="--add-exports=java.base/jdk.internal.misc=ALL-UNNAMED --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED --add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED --add-exports=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED --add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED --illegal-access=permit"

# This may be reconfigured to be a different garbage collector, but it will auto select
export JDK11_GC="-Xlog:gc"

# This should either be development or deployment
export WICKET_CONFIG="development"

# Define where you sakai home is (i.e. where sakai.properties resides)
export SAKAI_HOME="/Users/csev/sakai/scripts/apache-tomcat-9.0.21/sakai"

# This starts up sakai with demo mode with 2g of ram
export JAVA_OPTS="-server -Xms1g -Xmx2g -Djava.awt.headless=true -XX:+UseCompressedOops -Dhttp.agent=Sakai -Dorg.apache.jasper.compiler.Parser.STRICT_QUOTE_ESCAPING=false -Dsakai.home=${SAKAI_HOME} -Duser.timezone=${TIMEZONE} -Dsakai.cookieName=SAKAI2SESSIONID -Dsakai.demo=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8089 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dwicket.configuration=${WICKET_CONFIG} ${JDK11_OPTS} ${JDK11_GC}"

